(()=>{var t={879:(t,e)=>{e.advancedOption=function(){const t=document.querySelector(".search-bar"),e=document.querySelector(".search-bar__input"),o=document.querySelector(".search-bar__inner"),c=document.querySelector(".searchify-advanced"),a=document.querySelector(".searchify-overlay");e.onfocus=function(){document.activeElement===e&&o.removeAttribute("searchify-tooltip"),t.classList.add("unfold"),c.classList.add("show"),a.classList.add("show")}}},132:(t,e,o)=>{const{fetchData:c}=o(317),{reset:a}=o(23),{currentState:r,setState:s}=o(435);e.getAuthors=function(){const t=document.querySelector(".author-list"),e=document.querySelector("#author-popup"),o=document.querySelector("#author-loader");t.onclick=function(){s("author"),e.classList.add("show"),o.classList.add("show"),setTimeout((function(){!function(){const t=document.querySelector("#author-popup__input"),e=document.querySelector("#postType-data"),o=document.querySelector("#cat-data"),s=document.querySelector("#author-loader"),n="&security="+talashPublicApi.nonce,u="&searchify_data="+JSON.stringify({postType:e.value,catID:o.value});c("action=talash_get_authors"+n+u).then((function(e){if(e){s.classList.remove("show"),t.classList.add("show");let o="";e.forEach((t=>{o+=`<li class='author-li'>\n\t\t\t\t\t<div class='author-li__inner' data-authorID=${t.ID}>\n\t\t\t\t\t<img src="${t.avatar_url}"><div>${t.display_name}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</li>`})),t.innerHTML=o,function(){const t=document.querySelector("#author-close"),e=document.querySelector("#author-popup"),o=document.querySelector("#author-popup__input");t.addEventListener("click",(function(){o.classList.remove("show"),e.classList.remove("show")}))}(),function(){const t=document.querySelector("#author-popup"),e=document.querySelector("#author-popup__input"),o=document.querySelectorAll(".author-li__inner"),c=document.querySelector("#author-data"),s=document.querySelector(".author-label");let n="",u="";o&&o.forEach(((l,i)=>{o[i].onclick=function(l){l.ctrlKey||l.metaKey?(r("author")>1&&a(!0,!0,!0,!1),n+=n?", "+o[i].getAttribute("data-authorID"):o[i].getAttribute("data-authorID"),c.value=n,u+=u?", "+o[i].textContent:o[i].textContent,s.textContent=u,s.setAttribute("searchify-tooltip",u)):(c.value&&a(!0,!0,!0,!1),o.forEach(((t,e)=>{o[e].classList.contains("selected")&&(o[e].classList.remove("selected"),o[e].style.borderColor="transparent")})),s.textContent=o[i].childNodes[2].textContent,c.value=o[i].getAttribute("data-authorID"),s.removeAttribute("searchify-tooltip"),setTimeout((function(){e.classList.remove("show"),t.classList.remove("show")}),300)),o[i].style.borderColor="#00ffad",o[i].classList.add("selected")}}))}()}})).catch((function(t){console.log(t.message)}))}()}),300)}}},3:(t,e,o)=>{const{fetchData:c}=o(317),{reset:a}=o(23),{setState:r,currentState:s}=o(435);e.getCategories=function(){const t=document.querySelector(".category-list"),e=document.querySelector("#cat-popup"),o=document.querySelector("#cat-popup__input"),n=document.querySelector("#cat-loader");t.onclick=function(){r("cat"),o.classList.contains("show")&&o.classList.remove("show"),e.classList.add("show"),n.classList.add("show"),setTimeout((function(){(()=>{const t=document.querySelector("#cat-loader"),e=document.querySelector("#cat-popup__input"),o=document.querySelector("#postType-data"),r=document.querySelector("#author-data"),n="&security="+talashPublicApi.nonce,u="&searchify_data="+JSON.stringify({postType:o.value,authorID:r.value});c("action=talash_get_categories"+n+u).then((function(o){if("error"!=o){t.classList.remove("show");let c="";o.forEach((t=>{c+=`<li class='cat-li'><div class='cat-li__inner' data-catID=${t.term_id}>${t.name}</div></li>`})),e.innerHTML=c,e.classList.add("show"),function(){const t=document.querySelector("#cat-close"),e=document.querySelector("#cat-popup"),o=document.querySelector("#cat-popup__input");t.addEventListener("click",(function(){o.classList.remove("show"),e.classList.remove("show")}))}(),function(){const t=document.querySelectorAll(".cat-li__inner"),e=document.querySelector(".cat-label"),o=document.querySelector("#cat-data"),c=document.querySelector("#cat-popup"),r=document.querySelector("#cat-popup__input");let n="",u="";t&&t.forEach(((l,i)=>{t[i].onclick=function(l){l.ctrlKey||l.metaKey?(s("cat")>1&&a(!0,!0,!1),n+=n?", "+t[i].getAttribute("data-catID"):t[i].getAttribute("data-catID"),o.value=n,u+=u?", "+t[i].textContent:t[i].textContent,e.textContent=u,e.setAttribute("searchify-tooltip",u)):(o.value&&a(!0,!0,!1),t.forEach(((e,o)=>{t[o].classList.contains("selected")&&(t[o].classList.remove("selected"),t[o].style.borderColor="transparent")})),e.textContent=t[i].textContent,o.value=t[i].getAttribute("data-catID"),e.removeAttribute("searchify-tooltip"),setTimeout((function(){c.classList.remove("show"),r.classList.remove("show")}),300)),t[i].style.borderColor="#00ffad",t[i].classList.add("selected")}}))}()}})).catch((function(t){console.log(t.message)}))})()}),300)}}},289:(t,e)=>{e.clearInput=function(){const t=document.querySelector(".search-bar__clear-input"),e=document.querySelector(".search-bar__input");e.addEventListener("input",(function(){e.value?t.classList.add("show"):t.classList.remove("show"),t.onclick=function(){e.value="",e.focus(),t.classList.remove("show")}}))}},625:(t,e)=>{e.dateRangePicker=function(){!function(t){var e=moment().subtract(364,"days"),o=moment();function c(e,o){t(".date-range__input span").html(e.format("MMM D, YY")+" - "+o.format("MMM D, YY")),t(".dateRange").html(e.format("YYYY-MM-D")+" - "+o.format("YYYY-MM-D")),t(".dateRangeStart").val(e.format("YYYY-MM-D")+" 00:00:00"),t(".dateRangeEnd").val(o.format("YYYY-MM-D")+" 23:59:59")}t(".date-range__input").daterangepicker({startDate:e,endDate:o,ranges:{"All Time":[moment().subtract(50,"years"),moment()],Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],"Last 1 Year":[moment().subtract(364,"days"),moment()]}},c),c(e,o)}(jQuery)}},317:(t,e)=>{e.fetchData=async function(t,e=!0){const o=await fetch(talashPublicApi.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});return e?o.json():o.text()}},723:(t,e)=>{e.keyShortCut=function(){const t=document.querySelector("#searchify"),e=document.querySelector(".search-bar__input"),o=document.querySelector(".searchify-overlay");window.addEventListener("keydown",(function(c){(c.ctrlKey||c.metaKey)&&c.shiftKey&&"F"===c.key&&(e.focus(),t.scrollIntoView({behavior:"smooth"}),window.scroll(100,t.offsetTop-20)),"Escape"===c.key&&(e.blur(),o.click())}))}},175:(t,e,o)=>{const{fetchData:c}=o(317),{reset:a}=o(23),{setState:r,currentState:s}=o(435);e.getPostTypes=function(){const t=document.querySelector(".post-type-list"),e=document.querySelector("#postType-popup"),o=document.querySelector("#postType-loader");t.onclick=function(){r("postType"),e.classList.add("show"),o.classList.add("show"),setTimeout((function(){!function(){const t=document.querySelector("#cat-data"),e=document.querySelector("#author-data"),o=document.querySelector("#postType-popup__input"),r=document.querySelector("#postType-loader"),n="&security="+talashPublicApi.nonce,u="&searchify_data="+JSON.stringify({catID:t.value,authorID:e.value});c("action=talash_get_post_types"+n+u).then((function(t){if("error"!==t){r.classList.remove("show");let e="";t.forEach((t=>{e+=`<li class='post-type-li'>\n\t\t\t\t\t<div class='post-type-li__inner' data-postType=${t}>${t}</div>\n\t\t\t\t\t</li>`})),o.innerHTML=e,o.classList.add("show"),function(){const t=document.querySelector("#postType-close"),e=document.querySelector("#postType-popup"),o=document.querySelector("#postType-popup__input");t.addEventListener("click",(function(){o.classList.remove("show"),e.classList.remove("show")}))}(),function(){const t=document.querySelector("#postType-popup"),e=document.querySelector("#postType-popup__input"),o=document.querySelectorAll(".post-type-li__inner"),c=document.querySelector(".postType-label"),r=document.querySelector("#postType-data");let n="",u="";o&&o.forEach(((l,i)=>{o[i].onclick=function(l){l.ctrlKey||l.metaKey?(s("postType")>1&&a(!0,!1),n+=n?", "+o[i].getAttribute("data-postType"):o[i].getAttribute("data-postType"),r.value=n,u+=u?", "+o[i].textContent:o[i].textContent,c.textContent=u,c.setAttribute("searchify-tooltip",u)):(r.value&&a(!0,!1),o.forEach(((t,e)=>{o[e].classList.contains("selected")&&(o[e].classList.remove("selected"),o[e].style.borderColor="transparent")})),c.textContent=o[i].textContent,r.value=o[i].getAttribute("data-postType"),c.removeAttribute("searchify-tooltip"),setTimeout((function(){t.classList.remove("show"),e.classList.remove("show")}),300)),o[i].style.borderColor="#00ffad",o[i].classList.add("selected")}}))}()}})).catch((function(t){console.log(t.message)}))}()}),300)}}},235:(t,e)=>{e.removePopup=function(){const t=document.querySelector(".search-bar"),e=document.querySelector(".searchify-result"),o=document.querySelector(".searchify-advanced"),c=document.querySelector(".search-bar__inner"),a=document.querySelectorAll(".searchify-inner-popup"),r=document.querySelectorAll(".searchify-popup__input"),s=document.querySelector(".searchify-overlay");s.addEventListener("click",(function(){s.classList.remove("show"),t.classList.remove("unfold"),o.classList.contains("show")&&o.classList.remove("show"),a.forEach((function(t,e){a[e].classList.contains("show")&&a[e].classList.remove("show")})),r.forEach((function(t,e){r[e].classList.contains("show")&&r[e].classList.remove("show")})),e.classList.contains("show")&&e.classList.remove("show"),c.setAttribute("searchify-tooltip","CTRL + SHIFT + F")}))}},23:(t,e,o)=>{const{resetState:c}=o(435);e.reset=function(t=!1,e=!0,o=!0,a=!0){const r=document.querySelector(".searchify-reset"),s=document.querySelector("#postType-data"),n=document.querySelector(".postType-label"),u=document.querySelector("#postType-popup__input"),l=document.querySelector("#cat-data"),i=document.querySelector(".cat-label"),d=document.querySelector("#cat-popup__input"),p=document.querySelector("#author-data"),y=document.querySelector(".author-label"),m=document.querySelector("#author-popup__input"),h=()=>{e&&(u.innerHTML="",s.value="",n.textContent=n.getAttribute("data-label")),o&&(d.innerHTML="",l.value="",i.textContent=i.getAttribute("data-label")),a&&(m.innerHTML="",p.value="",y.textContent=y.getAttribute("data-label")),c()};t?h():r.addEventListener("click",h)}},84:(t,e,o)=>{const{fetchData:c}=o(317);e.search=function(){const t=document.querySelector(".search-bar__input"),e=document.querySelector("#searchify-form"),o=document.querySelector(".searchify-result"),a=document.querySelector(".searchify-result__inner"),r=document.querySelector(".searchify-overlay"),s=document.querySelector("#search-loader");e.addEventListener("submit",(function(n){if(n.preventDefault(),t.focus(),a.classList.contains("show")&&a.classList.remove("show"),!function(){const t=document.querySelector(".search-bar__input"),e=document.querySelector("#postType-data"),o=document.querySelector("#cat-data"),c=document.querySelector("#author-data");return""!=t.value||""!=e.value||""!=o.value||""!=c.value}())return;o.classList.add("show"),r.classList.add("show"),s.classList.add("show");const u={},l=new FormData(e);for(let[t,e]of l.entries())u[t]=e;!function(t){const e=document.querySelector(".searchify-search-by"),o=document.querySelector(".search-bar__input"),c=document.querySelector(".postType-label"),a=document.querySelector(".cat-label"),r=document.querySelector(".author-label");let s="";s+=o.value?o.getAttribute("data-key")+": "+o.value:"",s+=o.value&&t.postType?"; ":"",s+=t.postType?c.getAttribute("data-label")+": "+t.postType:"",s+=t.postType&&t.catID?"; ":"",s+=t.catID?a.getAttribute("data-label")+": "+a.textContent:"",s+=t.catID&&t.authorID?"; ":"",s+=t.authorID?r.getAttribute("data-label")+": "+r.textContent:"",e.setAttribute("searchify-tooltip",s)}(u);const i="&security="+talashPublicApi.nonce,d="&searchify_data="+JSON.stringify(u);c("action=get_search_results"+i+d,!1).then((function(t){setTimeout((function(){s.classList.remove("show"),a.classList.add("show"),a.innerHTML=t}),300)})).catch((function(t){console.log(t)})),function(){const t=document.querySelector(".searchify-result-close"),e=document.querySelector(".search-bar__input"),o=document.querySelector(".searchify-result"),c=document.querySelector(".searchify-result__inner"),a=document.querySelectorAll(".searchify-inner-popup"),r=document.querySelectorAll(".searchify-popup__input");t.addEventListener("click",(function(){a.forEach((function(t,e){a[e].classList.contains("show")&&(a[e].classList.remove("show"),r[e].classList.remove("show"))})),o.classList.remove("show"),c.classList.remove("show"),e.focus()}))}()}))}},435:(t,e)=>{class o{static state={postType:0,cat:0,author:0};static currentState(t=null){return"postType"===t?o.state:"cat"===t?o.cat:"author"===t?o.author:void 0}static setState(t=null){"postType"===t?o.state.postType++:"cat"===t?o.state.cat++:"author"===t&&o.state.author++}static resetState(){o.state.postType=0,o.state.cat=0,o.state.author=0}}e.currentState=o.currentState,e.setState=o.setState,e.resetState=o.resetState}},e={};function o(c){var a=e[c];if(void 0!==a)return a.exports;var r=e[c]={exports:{}};return t[c](r,r.exports,o),r.exports}(()=>{const{clearInput:t}=o(289),{advancedOption:e}=o(879),{search:c}=o(84),{removePopup:a}=o(235),{getPostTypes:r}=o(175),{getCategories:s}=o(3),{dateRangePicker:n}=o(625),{getAuthors:u}=o(132),{reset:l}=o(23),{keyShortCut:i}=o(723);document.addEventListener("DOMContentLoaded",(function(){"interactive"!==document.readyState&&"complete"!==document.readyState||(i(),t(),e(),c(),a(),r(),s(),n(),u(),l())}))})()})();